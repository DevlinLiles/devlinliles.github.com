---
layout: post
title: Comments versus Well written code
date: 2009-09-15
---
<p>So the conversation started today about a guy leaving our team and needing to knowledge transfer his part of the code base to the other team members. The lead programmer on the project told him to stop working on new development and start commenting his code so that the people coming in after him would understand what he had been doing.</p>
<p>Personally the first thing I do when opening a code base that I am not familiar with is to press CTRL-M, CTRL-O and start looking around. ( CTRL-M, CTRL-O is the default visual studio short cut for minimize all outlining. You get to see method declarations, and that is about it.) This will collapse blocks of comments so that they are not intrusive. I never re-expand them. The idea that you need comments for understanding code to me is a big red flag for bad code. I feel well named variables are much more intuitive to learning a new code base than using comments.</p>
<p>I have never sat down to learn an entire code base at one sitting. I am normally working on a small part or a bug fix and need to find something that is very specific. To that end a well named class/method/property is much more helpful with you use the ?Edit-&gt;Find? code parser than having to sort through and search all the comments for the set of information that you need.</p>
<p>Also, I am sure that almost everyone has opened a piece of code that had a form1, or class1 class right? Those names that MS graces us with are not supposed to stay named that. Here is the way you avoid this.</p>
<p>Step 1: Go to add class</p>
<p>Step 2: DON?T CLICK OK!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</p>
<p>Step 3: Look down at the bottom of the dialog and type in something intuitive.</p>
<p><a href="http://blog.devlinliles.com/image.axd?picture=image_6.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" src="http://blog.devlinliles.com/image.axd?picture=image_thumb_6.png" border="0" alt="image" width="394" height="238" /></a></p>
<p>Step 4: Go drink something with an umbrella and retire to the happy place of understandable class name land.</p>
<p>To prove my point.</p>
<div class="csharpcode">
<pre class="alt"><span class="lnum">   1:  </span><span class="rem">//This is a class that handles </span></pre>
<pre><span class="lnum">   2:  </span><span class="rem">//calculating tax for sales in </span></pre>
<pre class="alt"><span class="lnum">   3:  </span><span class="rem">//several states</span></pre>
<pre><span class="lnum">   4:  </span><span class="kwrd">public</span> <span class="kwrd">class</span> class1</pre>
<pre class="alt"><span class="lnum">   5:  </span>{</pre>
<pre><span class="lnum">   6:  </span>        <span class="rem">//Calc sales total for a couple states</span></pre>
<pre class="alt"><span class="lnum">   7:  </span>        <span class="rem">//AR - tax 9.5%</span></pre>
<pre><span class="lnum">   8:  </span>        <span class="rem">//NM - tax 5.5%</span></pre>
<pre class="alt"><span class="lnum">   9:  </span>        <span class="rem">//TX - tax 8.5%    </span></pre>
<pre><span class="lnum">  10:  </span>        <span class="kwrd">public</span> <span class="kwrd">decimal</span> calc(<span class="kwrd">decimal</span> a, <span class="kwrd">string</span> n)</pre>
<pre class="alt"><span class="lnum">  11:  </span>       {</pre>
<pre><span class="lnum">  12:  </span>             <span class="rem">//The quick red fox jumped over the lazy brown dog.</span></pre>
<pre class="alt"><span class="lnum">  13:  </span>             <span class="rem">//The quick red fox jumped over the lazy brown dog.</span></pre>
<pre><span class="lnum">  14:  </span>             <span class="rem">//The quick red fox jumped over the lazy brown dog.</span></pre>
<pre class="alt"><span class="lnum">  15:  </span>             <span class="rem">//The quick red fox jumped over the lazy brown dog.</span></pre>
<pre><span class="lnum">  16:  </span>             <span class="kwrd">switch</span>(n)</pre>
<pre class="alt"><span class="lnum">  17:  </span>             {</pre>
<pre><span class="lnum">  18:  </span>                   <span class="kwrd">case</span> <span class="str">"AR"</span>:</pre>
<pre class="alt"><span class="lnum">  19:  </span>                          {</pre>
<pre><span class="lnum">  20:  </span>                                <span class="kwrd">return</span>  a * 1.095;</pre>
<pre class="alt"><span class="lnum">  21:  </span>                           }</pre>
<pre><span class="lnum">  22:  </span>                           <span class="kwrd">break</span>;</pre>
<pre class="alt"><span class="lnum">  23:  </span>                    <span class="kwrd">case</span> <span class="str">"TX"</span>:</pre>
<pre><span class="lnum">  24:  </span>                            {</pre>
<pre class="alt"><span class="lnum">  25:  </span>                                <span class="kwrd">return</span> a * 1.0875;</pre>
<pre><span class="lnum">  26:  </span>                            }</pre>
<pre class="alt"><span class="lnum">  27:  </span>                            <span class="kwrd">break</span>;</pre>
<pre><span class="lnum">  28:  </span>                    <span class="kwrd">case</span> <span class="str">"NM"</span>:</pre>
<pre class="alt"><span class="lnum">  29:  </span>                           {</pre>
<pre><span class="lnum">  30:  </span>                                <span class="kwrd">return</span> a * 1.055;</pre>
<pre class="alt"><span class="lnum">  31:  </span>                            }</pre>
<pre><span class="lnum">  32:  </span>                            <span class="kwrd">break</span>;</pre>
<pre class="alt"><span class="lnum">  33:  </span>              }    </pre>
<pre><span class="lnum">  34:  </span>       }</pre>
<pre class="alt"><span class="lnum">  35:  </span>}</pre>
</div>
<p><!-- .csharpcode, .csharpcode pre { 	font-size: small; 	color: black; 	font-family: consolas, "Courier New", courier, monospace; 	background-color: #ffffff; 	/*white-space: pre;*/ } .csharpcode pre { margin: 0em; } .csharpcode .rem { color: #008000; } .csharpcode .kwrd { color: #0000ff; } .csharpcode .str { color: #006080; } .csharpcode .op { color: #0000c0; } .csharpcode .preproc { color: #cc6633; } .csharpcode .asp { background-color: #ffff00; } .csharpcode .html { color: #800000; } .csharpcode .attr { color: #ff0000; } .csharpcode .alt  { 	background-color: #f4f4f4; 	width: 100%; 	margin: 0em; } .csharpcode .lnum { color: #606060; } --></p>
<p>versus my way</p>
<div class="csharpcode">
<pre class="alt"><span class="lnum">   1:  </span><span class="kwrd">public</span> <span class="kwrd">class</span> MultiStateSalesTaxCalculator</pre>
<pre><span class="lnum">   2:  </span>{</pre>
<pre class="alt"><span class="lnum">   3:  </span>        <span class="kwrd">public</span> <span class="kwrd">decimal</span> ARKANSAS_STATE_SALES_TAX = 0.095;</pre>
<pre><span class="lnum">   4:  </span>        <span class="kwrd">public</span> <span class="kwrd">decimal</span> TEXAS_STATE_SALES_TAX = 0.095;</pre>
<pre class="alt"><span class="lnum">   5:  </span>        <span class="kwrd">public</span> <span class="kwrd">decimal</span> NEW_MEXICO_STATE_SALES_TAX = 0.095;</pre>
<pre><span class="lnum">   6:  </span>&nbsp;</pre>
<pre class="alt"><span class="lnum">   7:  </span>        <span class="kwrd">public</span> <span class="kwrd">decimal</span> CalculateSalesTotalWithTaxByState(<span class="kwrd">decimal</span> SubTotal, <span class="kwrd">string</span> stateAbreveation)</pre>
<pre><span class="lnum">   8:  </span>       {</pre>
<pre class="alt"><span class="lnum">   9:  </span>             <span class="kwrd">switch</span>(stateAbreveation)</pre>
<pre><span class="lnum">  10:  </span>             {</pre>
<pre class="alt"><span class="lnum">  11:  </span>                   <span class="kwrd">case</span> <span class="str">"AR"</span>:</pre>
<pre><span class="lnum">  12:  </span>                          {</pre>
<pre class="alt"><span class="lnum">  13:  </span>                                <span class="kwrd">return</span>  SubTotal + ( SubTotal * ARKANSAS_STATE_SALES_TAX)  ;</pre>
<pre><span class="lnum">  14:  </span>                           }</pre>
<pre class="alt"><span class="lnum">  15:  </span>                           <span class="kwrd">break</span>;</pre>
<pre><span class="lnum">  16:  </span>                    <span class="kwrd">case</span> <span class="str">"TX"</span>:</pre>
<pre class="alt"><span class="lnum">  17:  </span>                           {</pre>
<pre><span class="lnum">  18:  </span>                                <span class="kwrd">return</span> SubTotal + ( SubTotal * TEXAS_STATE_SALES_TAX);</pre>
<pre class="alt"><span class="lnum">  19:  </span>                            }</pre>
<pre><span class="lnum">  20:  </span>                            <span class="kwrd">break</span>;</pre>
<pre class="alt"><span class="lnum">  21:  </span>                    <span class="kwrd">case</span> <span class="str">"NM"</span>:</pre>
<pre><span class="lnum">  22:  </span>                           {</pre>
<pre class="alt"><span class="lnum">  23:  </span>                                <span class="kwrd">return</span> SubTotal + ( SubTotal * NEW_MEXICO_STATE_SALES_TAX);</pre>
<pre><span class="lnum">  24:  </span>                            }</pre>
<pre class="alt"><span class="lnum">  25:  </span>                            <span class="kwrd">break</span>;</pre>
<pre><span class="lnum">  26:  </span>              }    </pre>
<pre class="alt"><span class="lnum">  27:  </span>       }</pre>
<pre><span class="lnum">  28:  </span>}</pre>
</div>
<p><!-- .csharpcode, .csharpcode pre { 	font-size: small; 	color: black; 	font-family: consolas, "Courier New", courier, monospace; 	background-color: #ffffff; 	/*white-space: pre;*/ } .csharpcode pre { margin: 0em; } .csharpcode .rem { color: #008000; } .csharpcode .kwrd { color: #0000ff; } .csharpcode .str { color: #006080; } .csharpcode .op { color: #0000c0; } .csharpcode .preproc { color: #cc6633; } .csharpcode .asp { background-color: #ffff00; } .csharpcode .html { color: #800000; } .csharpcode .attr { color: #ff0000; } .csharpcode .alt  { 	background-color: #f4f4f4; 	width: 100%; 	margin: 0em; } .csharpcode .lnum { color: #606060; } --></p>
